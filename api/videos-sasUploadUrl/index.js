const { makeSasForBlob, requireCreator, uuidv4 }=require('../utils.js');module.exports=async function(context,req){const guard=await requireCreator(req);if(guard){context.res=guard;return}const body=req.body||{};const blobName=`${uuidv4()}-${(body.filename||'upload').replace(/[^a-z0-9\.\-]/gi,'_')}`;const container=process.env.STORAGE_VIDEOS_CONTAINER||'videos';const sas=makeSasForBlob(container,blobName,2,'racw');context.res={body:sas}}